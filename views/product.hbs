<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>
<script type="text/javascript">
  let productList = document.createElement('ul')

  const myHeaders = new Headers();
  myHeaders.append('authorization', `Bearer ${localStorage.token}`)

  $.ajax({
    url: '/api/product',
    headers: {
      'authorization': `Bearer ${localStorage.token}`,
      'Content-Type': 'application/json'
    },
    method: 'GET',
    dataType: 'json',
    data: {},
    success: function (data) {
      data.products.map(product => {
        let text = document.createTextNode(product.name)
        let elem = document.createElement('li')
        elem.appendChild(text)
        productList.appendChild(elem)
      });
      document.body.appendChild(productList)
    }
  });


 /* fetch('/api/product', {
    method: 'GET',
    headers: myHeaders
  })
  .then(res => res.json())
  .then(data => {
    data.products.map(product => {
      let text = document.createTextNode(product.name)
      let elem = document.createElement('li')
      elem.appendChild(text)
      productList.appendChild(elem)
    })

    document.body.appendChild(productList)
  })*/

</script>